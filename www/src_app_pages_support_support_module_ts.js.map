{"version":3,"file":"src_app_pages_support_support_module_ts.js","mappings":"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","sources":["./src/app/pages/support/support-routing.module.ts","./src/app/pages/support/support.module.ts","./src/app/pages/support/support.page.ts","./src/app/pages/support/support.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SupportPage } from './support.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SupportPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SupportPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SupportPageRoutingModule } from './support-routing.module';\r\n\r\nimport { SupportPage } from './support.page';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SupportPageRoutingModule,\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [SupportPage]\r\n})\r\nexport class SupportPageModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { StatusBar, Style } from '@capacitor/status-bar';\r\nimport { IonContent, NavController } from '@ionic/angular';\r\nimport { Observable } from 'rxjs';\r\nimport { AvatarService } from 'src/app/services/avatar.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-support',\r\n  templateUrl: './support.page.html',\r\n  styleUrls: ['./support.page.scss'],\r\n})\r\nexport class SupportPage implements OnInit {\r\n\r\n  @ViewChild(IonContent) content: IonContent;\r\n \r\n  newMsg = '';\r\n  messages: Observable<import(\"@angular/fire/firestore\").DocumentData[]>;\r\n  hasNoData: any;\r\n  skeletOns: {}[];\r\n  hideSkeleton: boolean;\r\n  currentLanguage: string = 'en';\r\n\r\n  constructor(\r\n    private chatService: AvatarService, \r\n    private router: Router,\r\n    private translate: TranslateService\r\n  ) {\r\n    this.currentLanguage = this.translate.currentLang || 'en';\r\n  }\r\n\r\n  async ionViewDidEnter() {\r\n    this.skeletOns = [\r\n      {},{},{},{}\r\n    ]\r\n    this.hideSkeleton = true;\r\n    this.messages = (this.chatService.getMessage())\r\n    this.messages.subscribe((d)=>{\r\n      if (d.length == 0){\r\n        this.hasNoData = true;\r\n        this.hideSkeleton = false;\r\n      }else{\r\n        this.hideSkeleton = false;\r\n        this.hasNoData = false;\r\n      }\r\n  })\r\n\r\n  }\r\n\r\n  async Show(){\r\n    await StatusBar.setOverlaysWebView({ overlay: false });\r\n  \r\n  }\r\n\r\n  async Hide(){\r\n    await StatusBar.setOverlaysWebView({ overlay: true });\r\n  \r\n  }\r\n\r\n  ngOnInit(){}\r\n \r\n  async sendMessage() {\r\n    await this.chatService.addChatMessage(this.newMsg)\r\n      this.newMsg = '';\r\n      this.content.scrollToBottom();\r\n  }\r\n \r\n  setLanguage(lang: string) {\r\n    this.currentLanguage = lang;\r\n    this.translate.use(lang);\r\n    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';\r\n    localStorage.setItem('preferred_language', lang);\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button color=\"primary\">\r\n        <ion-back-button></ion-back-button>\r\n      </ion-button>\r\n    </ion-buttons>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button color=\"primary\">\r\n        <ion-icon name=\"call\" slot=\"icon-only\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n    <ion-title class=\"ion-text-center\">{{ 'SUPPORT.TITLE' | translate }}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n \r\n<ion-content class=\"ion-padding\">\r\n \r\n  <ion-grid *ngIf=\"!hideSkeleton\">\r\n    <ion-row *ngFor=\"let message of messages | async\">\r\n      <ion-col size=\"9\" class=\"message\"\r\n        [offset]=\"message.myMsg ? 3 : 0\"\r\n        [ngClass]=\"{ 'my-message': message.myMsg, 'other-message': !message.myMsg }\">\r\n        <b>{{ message.fromName }}</b><br>\r\n        <span>{{ message.msg }}\r\n        </span>\r\n        <div class=\"time ion-text-right\"><br>{{ message.createdAt?.toMillis() | date:'short' }}</div>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n\r\n\r\n  <div *ngIf=\"hideSkeleton\">\r\n    <ion-item lines=\"none\" *ngFor=\"let item of skeletOns\">\r\n      <ion-thumbnail>\r\n        <ion-skeleton-text [animated]=\"true\" style=\"width: 250px; height: 400px;\"></ion-skeleton-text>\r\n      </ion-thumbnail>\r\n    </ion-item>\r\n\r\n    <ion-item lines=\"none\" *ngFor=\"let item of skeletOns\">\r\n      <ion-thumbnail>\r\n        <ion-skeleton-text  [animated]=\"true\" style=\"width: 250px; height: 400px; left: 100px\"></ion-skeleton-text>\r\n      </ion-thumbnail>\r\n    </ion-item>\r\n  </div>\r\n\r\n\r\n\r\n  \r\n  <ion-list class=\"ion-no-padding\" lines=\"none\">\r\n  <ion-img *ngIf=\"hasNoData\" src=\"../../../assets/imgs/chat.svg\"></ion-img>\r\n  <ion-list-header *ngIf=\"hasNoData\" style=\"margin-top: 10%\">\r\n    <ion-label color=\"primary\" class=\"ion-text-center\">\r\n      <h1>{{ 'SUPPORT.NO_DATA_HEADING' | translate }}</h1>\r\n      <p>{{ 'SUPPORT.NO_DATA_TEXT' | translate }}</p>\r\n    </ion-label>\r\n  </ion-list-header>\r\n</ion-list>\r\n \r\n</ion-content>\r\n \r\n<ion-footer>\r\n  <ion-toolbar color=\"light\">\r\n    <ion-row class=\"ion-align-items-center\">\r\n      <ion-col size=\"10\">\r\n        <ion-textarea autoGrow=\"true\" (ionFocus)=\"Show()\"  (ionBlur)=\"Hide()\" \r\n          [placeholder]=\"'SUPPORT.INPUT_PLACEHOLDER' | translate\" \r\n          class=\"message-input\" rows=\"1\" maxLength=\"500\" [(ngModel)]=\"newMsg\">\r\n        </ion-textarea>\r\n      </ion-col>\r\n      <ion-col size=\"2\">\r\n        <ion-button expand=\"block\" fill=\"clear\" color=\"primary\" [disabled]=\"newMsg === ''\"\r\n          class=\"msg-btn\" (click)=\"sendMessage()\">\r\n          <ion-icon name=\"send\" slot=\"icon-only\"></ion-icon>\r\n        </ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-toolbar>\r\n</ion-footer>\r\n\r\n<!-- Add language switcher FAB -->\r\n<ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\r\n  <ion-fab-button>\r\n    <ion-icon name=\"language\"></ion-icon>\r\n  </ion-fab-button>\r\n  <ion-fab-list side=\"top\">\r\n    <ion-fab-button (click)=\"setLanguage('en')\">\r\n      <img src=\"https://cdn.jsdelivr.net/npm/country-flag-icons/3x2/GB.svg\" \r\n           alt=\"English\"\r\n           style=\"width: 20px; height: 20px;\"\r\n           [class.selected]=\"currentLanguage === 'en'\">\r\n    </ion-fab-button>\r\n    <ion-fab-button (click)=\"setLanguage('ar')\">\r\n      <img src=\"https://cdn.jsdelivr.net/npm/country-flag-icons/3x2/SA.svg\" \r\n           alt=\"Arabic\"\r\n           style=\"width: 20px; height: 20px;\"\r\n           [class.selected]=\"currentLanguage === 'ar'\">\r\n    </ion-fab-button>\r\n  </ion-fab-list>\r\n</ion-fab>\r\n"],"names":["StatusBar","IonContent","i0","SupportPage","constructor","chatService","router","translate","currentLanguage","currentLang","ionViewDidEnter","skeletOns","hideSkeleton","messages","getMessage","subscribe","d","length","hasNoData","Show","setOverlaysWebView","overlay","Hide","ngOnInit","sendMessage","addChatMessage","newMsg","content","scrollToBottom","setLanguage","lang","use","document","documentElement","dir","localStorage","setItem","selectors","viewQuery","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}