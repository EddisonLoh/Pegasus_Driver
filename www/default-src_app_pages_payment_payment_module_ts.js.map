{"version":3,"file":"default-src_app_pages_payment_payment_module_ts.js","mappings":"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","sources":["./src/app/pages/payment/payment-routing.module.ts","./src/app/pages/payment/payment.module.ts","./src/app/pages/payment/payment.page.ts","./src/app/pages/payment/payment.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PaymentPage } from './payment.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PaymentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PaymentPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PaymentPageRoutingModule } from './payment-routing.module';\r\n\r\nimport { PaymentPage } from './payment.page';\r\n\r\nimport { SharedTranslationsModule } from '../../shared/shared-translations.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    PaymentPageRoutingModule,\r\n    SharedTranslationsModule\r\n  ],\r\n  declarations: [PaymentPage]\r\n})\r\nexport class PaymentPageModule {}\r\n","import { Component, ElementRef, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\nimport { AlertController, NavController } from '@ionic/angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AvatarService } from 'src/app/services/avatar.service';\r\nimport { OverlayService } from 'src/app/services/overlay.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DriverWallet, WalletTransaction } from '../../interfaces/payment';\r\nimport { Subscription } from 'rxjs';\r\ndeclare var Stripe;\r\n\r\n@Component({\r\n  selector: 'app-payment',\r\n  templateUrl: './payment.page.html',\r\n  styleUrls: ['./payment.page.scss'],\r\n})\r\nexport class PaymentPage implements OnInit, OnDestroy {\r\n  // stripe = Stripe(\"pk_test_0t85o0Llo0MbBfC9imSzznam\");\r\n\r\n  @ViewChild('paymentform',{read:ElementRef}) stripeButton : ElementRef;\r\n  cardpaymentForm: FormGroup;\r\n  public data: any;\r\n  info: any;\r\n  approve: boolean;\r\n  stripe = Stripe('pk_test_0t85o0Llo0MbBfC9imSzznam');\r\n  card: any;\r\n  cards: any[];\r\n  selectedCard: any;\r\n  selected: any;\r\n  skeletOns: {}[];\r\n  cash: any = 'cash'\r\n  currentLanguage: string = 'en';\r\n  wallet: DriverWallet;\r\n  transactions: WalletTransaction[] = [];\r\n  isLoading = true;\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor( public prof: AvatarService,\r\n    public nav: NavController, private http: HttpClient,\r\n    public alertCtrl: AlertController, private overlay: OverlayService, public formBuilder: FormBuilder,\r\n    private translate: TranslateService) {\r\n    this.currentLanguage = this.translate.currentLang || 'en';\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.skeletOns = [\r\n      {},{},{},{},{}\r\n    ]\r\n    this.setupStripe();\r\n   this.prof.getCards().subscribe((d)=>{\r\n       console.log(d);\r\n       this.cards = d\r\n\r\n       this.cards.forEach(element => {\r\n        console.log(element);\r\n         if (element.selected == true){\r\n          this.selected = element\r\n          this.selectedCard = element.name;\r\n          console.log(this.selectedCard);\r\n         }\r\n       });\r\n  })\r\n  }\r\n\r\n  async chooseCard(event){\r\n    console.log(event);\r\n    this.overlay.showLoader('Please wait..');\r\n    await this.prof.updateCard(this.selected.name, this.selected.number, this.selected.type, this.selected.id, false)\r\n    await this.prof.updateCard(event.name, event.number, event.type, event.id, true)\r\n    this.overlay.hideLoader();\r\n  }\r\n\r\n  async setupStripe() {\r\n    const appearance = {\r\n      theme: 'flat',\r\n    \r\n      variables: {\r\n        colorPrimary: '#0570de',\r\n        colorBackground: '#ffffff',\r\n        colorText: '#30313d',\r\n        colorDanger: '#df1b41',\r\n        fontFamily: 'Ideal Sans, system-ui, sans-serif',\r\n        spacingUnit: '2px',\r\n        borderRadius: '4px',\r\n        // See all possible variables below\r\n      }\r\n    };\r\n    let elements = this.stripe.elements();\r\n    var style = {\r\n      base: {\r\n        color: '#32325d',\r\n        lineHeight: '24px',\r\n        fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\r\n        fontSmoothing: 'antialiased',\r\n        fontSize: '17px',\r\n        '::placeholder': {\r\n          color: '#aab7c4'\r\n        }\r\n      },\r\n      invalid: {\r\n        color: '#fa755a',\r\n        iconColor: '#3880ff'\r\n      }\r\n    };\r\n\r\n    this.card = elements.create('card', { style: style });\r\n    this.card.mount('#card-element');\r\n\r\n    this.card.addEventListener('change', event => {\r\n      var displayError = document.getElementById('card-errors');\r\n      if (event.error) {\r\n        displayError.textContent = event.error.message;\r\n      } else {\r\n        displayError.textContent = '';\r\n      }\r\n    });\r\n\r\n    var form = document.getElementById('payment-form');\r\n    form.addEventListener('submit', event => {\r\n      event.preventDefault();\r\n      console.log(event, this.card)\r\n      this.approve = true;\r\n\r\n      this.stripe.createSource(this.card).then(async result => {\r\n        this.approve = false;\r\n        if (result.error) {\r\n          var errorElement = document.getElementById('card-errors');\r\n          errorElement.textContent = result.error.message;\r\n          this.overlay.showAlert('Payment Error', result.error.message)\r\n        } else {\r\n          console.log(result.source.id);\r\n          await this.prof.updateCard(this.selected.name, this.selected.number, this.selected.type, this.selected.id, false)\r\n          await this.prof.createCard(result.source.card.last4, result.source.card.last4, result.source.card.brand, result.source.id)\r\n          this.card.removeEventListener('change', event=>{})\r\n          form.removeEventListener('submit', event=>{})\r\n          await this.overlay.showToast('Successfully Added Card!')\r\n          this.setupStripe()\r\n        //  this.makePayment(result.id);\r\n        }\r\n      });\r\n    });\r\n  }\r\n  \r\n  async showPayMentAlert(title, subtitle, canLeave) {\r\n    const alert = await this.alertCtrl.create({\r\n      header: title,\r\n      subHeader: subtitle,\r\n      buttons: [{\r\n        text: 'Approve',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          if (canLeave) {\r\n            this.nav.pop();\r\n          }\r\n        }\r\n      },],\r\n      backdropDismiss: false\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadWalletData();\r\n  }\r\n\r\n  setLanguage(lang: string) {\r\n    this.currentLanguage = lang;\r\n    this.translate.use(lang);\r\n    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';\r\n    localStorage.setItem('preferred_language', lang);\r\n  }\r\n\r\n  private loadWalletData() {\r\n    // Subscribe to wallet updates\r\n    this.subscriptions.push(\r\n      this.prof.getWalletBalance().subscribe(wallet => {\r\n        this.wallet = wallet;\r\n        this.isLoading = false;\r\n      })\r\n    );\r\n\r\n    // Subscribe to transactions\r\n    this.subscriptions.push(\r\n      this.prof.getWalletTransactions().subscribe(transactions => {\r\n        this.transactions = transactions;\r\n      })\r\n    );\r\n  }\r\n\r\n  async addMoney() {\r\n    const amount = await this.overlay.showPrompt(\r\n      this.translate.instant('WALLET.ADD_MONEY'),\r\n      this.translate.instant('WALLET.ENTER_AMOUNT')\r\n    );\r\n\r\n    const numAmount = parseFloat(amount);\r\n    if (amount && !isNaN(numAmount)) {\r\n      try {\r\n        await this.prof.addTransaction({\r\n          amount: numAmount,\r\n          type: 'credit',\r\n          description: this.translate.instant('WALLET.MONEY_ADDED'),\r\n        });\r\n        \r\n        await this.overlay.showToast(this.translate.instant('WALLET.MONEY_ADDED_SUCCESS'));\r\n      } catch (error) {\r\n        await this.overlay.showAlert('Error', error.message);\r\n      }\r\n    }\r\n  }\r\n\r\n  async withdraw() {\r\n    if (!this.wallet?.balance) {\r\n      await this.overlay.showAlert(\r\n        this.translate.instant('WALLET.ERROR'),\r\n        this.translate.instant('WALLET.INSUFFICIENT_BALANCE')\r\n      );\r\n      return;\r\n    }\r\n\r\n    const amount = await this.overlay.showPrompt(\r\n      this.translate.instant('WALLET.WITHDRAW'),\r\n      this.translate.instant('WALLET.ENTER_AMOUNT')\r\n    );\r\n\r\n    const numAmount = parseFloat(amount);\r\n    if (amount && !isNaN(numAmount) && numAmount <= this.wallet.balance) {\r\n      try {\r\n        await this.prof.addTransaction({\r\n          amount: numAmount,\r\n          type: 'debit',\r\n          description: this.translate.instant('WALLET.WITHDRAWAL'),\r\n        });\r\n        \r\n        await this.overlay.showToast(this.translate.instant('WALLET.WITHDRAWAL_SUCCESS'));\r\n      } catch (error) {\r\n        await this.overlay.showAlert('Error', error.message);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach(sub => sub.unsubscribe());\r\n  }\r\n}\r\n\r\n\r\n","<ion-header class=\"ion-no-border\" [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>{{ 'WALLET.TITLE' | translate }}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <!-- Balance Card -->\r\n  <ion-card class=\"balance-card ion-margin-bottom\">\r\n    <ion-card-content>\r\n      <div class=\"balance-header\">\r\n        <h1>{{ 'WALLET.BALANCE' | translate }}</h1>\r\n        <ion-chip color=\"success\" *ngIf=\"wallet?.isVerified\">\r\n          <ion-icon name=\"checkmark-circle\"></ion-icon>\r\n          <ion-label>{{ 'WALLET.VERIFIED' | translate }}</ion-label>\r\n        </ion-chip>\r\n      </div>\r\n      \r\n      <div class=\"balance-amount\">\r\n        <h2>{{ wallet?.currency }} {{ wallet?.balance | number:'1.2-2' }}</h2>\r\n      </div>\r\n\r\n      <div class=\"balance-actions\">\r\n        <ion-button expand=\"block\" (click)=\"addMoney()\">\r\n          <ion-icon name=\"add-circle-outline\" slot=\"start\"></ion-icon>\r\n          {{ 'WALLET.ADD_MONEY' | translate }}\r\n        </ion-button>\r\n        <ion-button expand=\"block\" fill=\"outline\" (click)=\"withdraw()\">\r\n          <ion-icon name=\"cash-outline\" slot=\"start\"></ion-icon>\r\n          {{ 'WALLET.WITHDRAW' | translate }}\r\n        </ion-button>\r\n      </div>\r\n    </ion-card-content>\r\n  </ion-card>\r\n\r\n  <!-- Transactions -->\r\n  <div class=\"transactions-section\">\r\n    <ion-list-header>\r\n      <ion-label>{{ 'WALLET.RECENT_TRANSACTIONS' | translate }}</ion-label>\r\n    </ion-list-header>\r\n\r\n    <ion-list>\r\n      <ion-item *ngFor=\"let transaction of transactions\" lines=\"full\" class=\"transaction-item\">\r\n        <ion-icon \r\n          [name]=\"transaction.type === 'credit' ? 'arrow-down-circle' : 'arrow-up-circle'\"\r\n          [color]=\"transaction.type === 'credit' ? 'success' : 'primary'\"\r\n          slot=\"start\">\r\n        </ion-icon>\r\n        \r\n        <ion-label>\r\n          <h2>{{ transaction.description }}</h2>\r\n          <p>{{ transaction.timestamp.toDate() | date:'medium' }}</p>\r\n        </ion-label>\r\n        \r\n        <ion-note [color]=\"transaction.type === 'credit' ? 'success' : 'primary'\" slot=\"end\">\r\n          {{ transaction.type === 'credit' ? '+' : '-' }}{{ transaction.amount | currency:wallet?.currency }}\r\n        </ion-note>\r\n      </ion-item>\r\n\r\n      <!-- Skeleton loader -->\r\n      <ion-item *ngFor=\"let i of [1,2,3]\" lines=\"full\" class=\"transaction-item\" [hidden]=\"!isLoading\">\r\n        <ion-skeleton-text animated style=\"width: 20px; height: 20px\" slot=\"start\"></ion-skeleton-text>\r\n        <ion-label>\r\n          <h2><ion-skeleton-text animated style=\"width: 50%\"></ion-skeleton-text></h2>\r\n          <p><ion-skeleton-text animated style=\"width: 70%\"></ion-skeleton-text></p>\r\n        </ion-label>\r\n        <ion-skeleton-text animated style=\"width: 50px\" slot=\"end\"></ion-skeleton-text>\r\n      </ion-item>\r\n    </ion-list>\r\n  </div>\r\n</ion-content>\r\n\r\n"],"names":["ElementRef","FormGroup","FormBuilder","i0","transaction_r3","PaymentPage","constructor","prof","nav","http","alertCtrl","overlay","formBuilder","translate","Stripe","currentLanguage","currentLang","ionViewDidEnter","skeletOns","setupStripe","getCards","subscribe","d","console","log","cards","forEach","element","selected","selectedCard","name","chooseCard","event","showLoader","updateCard","number","type","id","hideLoader","appearance","theme","variables","colorPrimary","colorBackground","colorText","colorDanger","fontFamily","spacingUnit","borderRadius","elements","stripe","style","base","color","lineHeight","fontSmoothing","fontSize","invalid","iconColor","card","create","mount","addEventListener","displayError","document","getElementById","error","textContent","message","form","preventDefault","approve","createSource","then","result","errorElement","showAlert","source","createCard","last4","brand","removeEventListener","showToast","showPayMentAlert","title","subtitle","canLeave","alert","header","subHeader","buttons","text","role","handler","pop","backdropDismiss","present","ngOnInit","loadWalletData","setLanguage","lang","use","documentElement","dir","localStorage","setItem","subscriptions","push","getWalletBalance","wallet","isLoading","getWalletTransactions","transactions","addMoney","amount","showPrompt","instant","numAmount","parseFloat","isNaN","addTransaction","description","withdraw","balance","ngOnDestroy","sub","unsubscribe","selectors","viewQuery","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}